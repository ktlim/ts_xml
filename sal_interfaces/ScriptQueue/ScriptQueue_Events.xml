<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="http://lsst-sal.tuc.noao.edu/schema/SALEventSet.xsl"?>
<SALEventSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://lsst-sal.tuc.noao.edu/schema/SALEventSet.xsd">

<SALEvent>
    <Subsystem>ScriptQueue</Subsystem>
    <Version>1.0.0</Version>
    <Author></Author>
    <EFDB_Topic>ScriptQueue_logevent_heartbeat</EFDB_Topic>
    <Alias>heartbeat</Alias>
    <Explanation>A standard event but missing from SALGenerics.xml. Reported as TSS-3260</Explanation>
    <item>
        <EFDB_Name>heartbeat</EFDB_Name>
        <Description></Description>
        <IDL_Type>boolean</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
</SALEvent>

<SALEvent>
    <Subsystem>ScriptQueue</Subsystem>
    <Version>1.0.0</Version>
    <Author></Author>
    <EFDB_Topic>ScriptQueue_logevent_availableScripts</EFDB_Topic>
    <Alias>availableScripts</Alias>
    <Explanation>List of available scripts.</Explanation>
    <item>
        <EFDB_Name>standard</EFDB_Name>
        <Description>Colon-separated paths to standard scripts, relative to the standard root directory.</Description>
        <IDL_Type>string</IDL_Type>
        <IDL_Size>1</IDL_Size>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>external</EFDB_Name>
        <Description>Colon-separated paths to external scripts, relative to the external root directory.</Description>
        <IDL_Type>string</IDL_Type>
        <IDL_Size>1</IDL_Size>
        <Units></Units>
        <Count>1</Count>
    </item>
</SALEvent>
<SALEvent>
    <Subsystem>ScriptQueue</Subsystem>
    <Version>1.0.0</Version>
    <Author></Author>
    <EFDB_Topic>ScriptQueue_logevent_script</EFDB_Topic>
    <Alias>script</Alias>
    <Explanation>Information about a queued script.</Explanation>
    <item>
        <EFDB_Name>cmdId</EFDB_Name>
        <Description>ID of command which queued this script.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>salIndex</EFDB_Name>
        <Description>Index of Script SAL component.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>isStandard</EFDB_Name>
        <Description>True if this is a standard script, False if an external script.</Description>
        <IDL_Type>boolean</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>path</EFDB_Name>
        <Description>Path of script, relative to standard or external root directory.</Description>
        <IDL_Type>string</IDL_Type>
        <IDL_Size>1</IDL_Size>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>timestamp</EFDB_Name>
        <Description>Time at which the script process started.</Description>
        <IDL_Type>double</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>duration</EFDB_Name>
        <Description>Duration of the script process; 0 if still running.</Description>
        <IDL_Type>double</IDL_Type>
        <Units>seconds</Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>processState</EFDB_Name>
        <Description>State of script process. Loading means the script is still being loaded and is not yet configured. Configured means the script has been configured and can be run. Running means the script has been commanded to run. Done means the script has finished (see scriptState to see whether it ran successfully). ConfigureFailed means the process was terminated because the `configure` command failed. Terminated means the process was terminated due to calling the `terminate` command, or due to calling the `stop` command when the script was not running or if running but stopping the script gently failed.</Description>
        <IDL_Type>byte</IDL_Type>
        <Units></Units>
        <Count>1</Count>
        <Enumeration>Loading,Configured,Running,Done,ConfigureFailed,Terminated</Enumeration>
    </item>
    <item>
        <EFDB_Name>scriptState</EFDB_Name>
        <Description>State of the script; see Script_Events.xml for enum values; 0 if the script is not yet loaded.</Description>
        <IDL_Type>byte</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
</SALEvent>
<SALEvent>
    <Subsystem>ScriptQueue</Subsystem>
    <Version>1.0.0</Version>
    <Author></Author>
    <EFDB_Topic>ScriptQueue_logevent_queue</EFDB_Topic>
    <Alias>queue</Alias>
    <Explanation>SAL indices of scripts on the queue.</Explanation>
    <item>
        <EFDB_Name>enabled</EFDB_Name>
        <Description>Is the ScriptQueue CSC enabled? New scripts will only be started if both `running` and `enable` are True.</Description>
        <IDL_Type>boolean</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>running</EFDB_Name>
        <Description>Is the queue running (True) or paused (False)? New scripts will only be started if both `running` and `enable` are True.</Description>
        <IDL_Type>boolean</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>currentSalIndex</EFDB_Name>
        <Description>SAL index of script being run; 0 if none.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>length</EFDB_Name>
        <Description>Number of valid entries in salIndices.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>salIndices</EFDB_Name>
        <Description>SAL index of each Script on the queue. Item 0 is the next script to be run.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>500</Count>
    </item>
    <item>
        <EFDB_Name>pastLength</EFDB_Name>
        <Description>Number of valid entries in pastSalIndices.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>1</Count>
    </item>
    <item>
        <EFDB_Name>pastSalIndices</EFDB_Name>
        <Description>SAL index of scripts that have been run. Item 0 is the script most recently run.</Description>
        <IDL_Type>int</IDL_Type>
        <Units></Units>
        <Count>500</Count>
    </item>
</SALEvent>

</SALEventSet>
